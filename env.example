# =============================================================================
# Obsidian Configuration
# Copy this file to .env and customize for your deployment
# =============================================================================

# -----------------------------------------------------------------------------
# Core Settings
# -----------------------------------------------------------------------------
# Secret key for JWT tokens (generate with: openssl rand -hex 32)
WEBUI_SECRET_KEY=your-secret-key-here

# Port mappings
OPEN_WEBUI_PORT=3000
N8N_PORT=5678

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------
# PostgreSQL (recommended for production)
# DATABASE_URL=postgresql://obsidian:password@postgres:5432/obsidian

# SQLite (default - good for single-user or development)
# Data is stored in /app/backend/data/webui.db inside the container

# -----------------------------------------------------------------------------
# Ollama Configuration
# -----------------------------------------------------------------------------
# URL to Ollama instance
OLLAMA_BASE_URL=http://ollama:11434

# Docker tag for Ollama image
OLLAMA_DOCKER_TAG=latest

# -----------------------------------------------------------------------------
# OpenAI / LLM Provider Configuration
# -----------------------------------------------------------------------------
# OpenAI API Key (optional - for GPT models)
OPENAI_API_KEY=

# OpenAI-compatible API base URL (for Azure, local LLMs, etc.)
OPENAI_API_BASE_URL=

# -----------------------------------------------------------------------------
# n8n Webhook Integration
# -----------------------------------------------------------------------------
# Base URL for n8n (used for documentation and examples)
N8N_BASE_URL=http://n8n:5678

# Webhook timeout in seconds (default: 120)
WEBHOOK_TIMEOUT=120

# SSL verification for webhook connections (default: true)
# Set to false if your n8n/webhook server uses a self-signed certificate
WEBHOOK_SSL_VERIFICATION=true

# -----------------------------------------------------------------------------
# RAG / Embedding Configuration
# -----------------------------------------------------------------------------
# Embedding model for RAG (default: sentence-transformers/all-MiniLM-L6-v2)
# For better multilingual support: intfloat/multilingual-e5-large
RAG_EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2

# Reranking model (optional)
RAG_RERANKING_MODEL=

# -----------------------------------------------------------------------------
# Audio / Whisper Configuration
# -----------------------------------------------------------------------------
# Whisper model size: tiny, base, small, medium, large
WHISPER_MODEL=base

# -----------------------------------------------------------------------------
# Build Configuration
# -----------------------------------------------------------------------------
# Docker tag for Obsidian image
WEBUI_DOCKER_TAG=latest

# Build hash (auto-generated during build)
BUILD_HASH=

# Enable CUDA for GPU acceleration
USE_CUDA=false
USE_CUDA_VER=cu128

# Include Ollama in the container
USE_OLLAMA=false

# Slim build (no embedding models pre-downloaded)
USE_SLIM=false

# -----------------------------------------------------------------------------
# Security
# -----------------------------------------------------------------------------
# Disable analytics/telemetry
SCARF_NO_ANALYTICS=true
DO_NOT_TRACK=true
ANONYMIZED_TELEMETRY=false

